# 智能恢复 (`idle_recovery_interval`)

`idle_recovery_interval` 是一个智能恢复功能，旨在提高系统在空闲期后的路由选择效率。

## 功能说明

该功能定义了一个“空闲期”，默认为300秒（5分钟）。当系统连续超过此时间没有处理任何请求时，负载均衡器会认为系统已进入空闲状态。

- **活跃期间** (请求间隔 < `idle_recovery_interval`)
  - 系统会启用“粘滞会话”（Sticky Provider）逻辑，优先选择最近一次成功处理请求的提供商 (provider)。
  - 这可以确保在连续请求期间，处理速度和上下文一致性得到优化。

- **空闲期间** (请求间隔 > `idle_recovery_interval`)
  - 系统会**忽略**粘滞会话逻辑，并严格按照配置的 `selection_strategy`（如 `priority`）来选择提供商。
  - 这意味着，即使之前某个低优先级的提供商因为高优先级提供商的临时故障而被粘滞，一旦系统空闲足够长的时间，它将自动“忘记”粘滞状态，重新尝试使用最高优先级的健康提供商。

## 目的

- **自动恢复**：确保在服务商恢复后，系统能自动切回最高优先级的服务商，而无需手动干预。
- **提升效率**：在活跃期保持会话粘滞，提高性能；在空闲期后恢复最佳路由，确保成本和质量最优。